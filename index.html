<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NetHub Digital | Toko Kuota Internet</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Roboto:wght@400;500&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(180deg, #f9fafc 0%, #eef1f6 100%);
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      transition: background 0.3s ease;
      /* Menyesuaikan min-height agar footer bisa didorong ke bawah */
      min-height: 100vh; 
    }

    header {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 30px;
      background: linear-gradient(90deg, #ffffff, #f8f9fb);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      border-radius: 15px;
      padding: 15px 20px;
      transition: 0.3s;
      max-width: 600px;
      /* Dihapus: cursor: pointer; */ 
    }

    .logo-text {
      font-family: 'Poppins', sans-serif;
      font-size: 1.8rem;
      font-weight: 600;
      color: #007aff;
      letter-spacing: 0.5px;
    }

    .main-content {
        display: flex;
        flex-direction: column; 
        width: 100%;
        max-width: 600px; 
        gap: 20px;
        align-items: center;
        /* Menambahkan flex-grow agar konten mengisi ruang dan mendorong footer */
        flex-grow: 1; 
    }

    .category-container {
      display: flex;
      flex-direction: row;
      gap: 15px;
      width: 100%;
      flex-shrink: 0;
      justify-content: center;
    }

    .category {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      padding: 15px 10px;
      cursor: pointer;
      transition: transform 0.25s, box-shadow 0.25s, background 0.25s;
      background: #ffffff;
      color: #333;
      border: 1px solid #eee;
      width: 120px;
    }
    
    .category.active {
        background-color: #e6f0ff;
        border-color: #007aff;
    }

    .category img {
      width: 50px;
      height: 50px;
      object-fit: contain;
      margin-bottom: 5px;
      margin-right: 0;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
    }

    .category h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 0.9rem;
      margin-top: 0;
      font-weight: 500;
      line-height: 1.2;
    }
    
    .product-utility-link {
        display: block;
        text-align: center;
        margin-bottom: 20px;
        padding: 10px 15px;
        background: #f0f7ff;
        border: 1px solid #d0e4ff;
        border-radius: 10px;
        color: #007aff;
        font-weight: 600;
        text-decoration: none;
        transition: background 0.2s;
        box-shadow: 0 1px 3px rgba(0, 122, 255, 0.1);
    }

    .product-list {
      display: none;
      width: 100%; 
      max-width: 600px; 
      text-align: left;
      margin-top: 20px;
    }

    .product-card {
      background: #ffffff;
      border-radius: 15px;
      margin-bottom: 20px;
      padding: 25px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      border-left: 5px solid #007aff;
      transition: 0.3s;
    }

    .product-card h4 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.2rem;
      color: #333;
      margin-bottom: 5px;
    }
    
    .product-card h4 span {
        color: #007aff;
        font-weight: 600;
    }
    
    .ready-status {
        color: #28a745; 
        font-weight: 600;
        margin-right: 8px;
        font-size: 0.95rem;
    }

    .product-card p {
      font-size: 0.95rem;
      margin-bottom: 15px;
      color: #666;
      line-height: 1.5;
    }
    
    .product-card strong {
        color: #e91e63;
        font-size: 1.1rem;
    }

    .buy-btn {
      background: #007aff;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 500;
      transition: 0.2s;
      box-shadow: 0 2px 4px rgba(0, 122, 255, 0.4);
    }

    /* === MODAL STYLES === */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: white;
      border-radius: 15px;
      padding: 25px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    .modal-content h3 {
      font-family: 'Poppins', sans-serif;
      margin-bottom: 15px;
    }

    .modal-content input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
    }

    /* --- STYLES BARU UNTUK TAMPILAN QRIS --- */
    .transaction-details {
        text-align: left;
        margin-bottom: 20px;
        padding-bottom: 15px;
        border-bottom: 1px solid #f0f0f0;
    }
    .transaction-details p {
        font-size: 1rem;
        margin-bottom: 8px;
        color: #555;
        display: flex;
        justify-content: space-between;
    }
    .transaction-details p span {
        color: #666;
    }
    .transaction-details p strong {
        color: #007aff;
        font-size: 1.1rem;
    }

    .qr-container {
        margin-top: 10px;
        margin-bottom: 15px;
    }
    
    .qr-image {
      margin-top: 10px;
      margin-bottom: 10px;
      border-radius: 10px;
      width: 220px;
      height: 220px;
      border: 1px solid #eee; /* Tambahan border */
    }

    .download-qr-link {
        display: inline-block;
        margin-top: 5px;
        font-size: 0.9rem;
        color: #007aff;
        text-decoration: none;
        font-weight: 600;
        padding: 5px 10px;
        border: 1px solid #007aff;
        border-radius: 20px;
        transition: background 0.2s, color 0.2s;
    }
    .download-qr-link:hover {
        background: #e6f0ff;
    }

    #payment-timer {
        font-size: 1.1rem;
        color: #333;
        margin-bottom: 10px;
    }
    #payment-timer strong {
        color: #e91e63; /* Warna pink/merah untuk timer */
        font-weight: 600;
    }

    .payment-instructions {
        text-align: center;
        font-size: 0.9rem;
        color: #666;
        margin-top: 15px;
        background: #f9f9f9;
        padding: 10px;
        border-radius: 8px;
    }
    .payment-instructions p {
        margin: 5px 0;
    }
    /* --- END STYLES BARU --- */


    .close-btn {
      margin-top: 10px;
      background: none;
      border: none;
      color: #007aff;
      font-weight: bold;
      cursor: pointer;
    }
    /* === END MODAL STYLES === */


    footer {
      margin-top: 50px;
      text-align: center;
      color: #666;
      font-size: 0.9rem;
      width: 100%;
      max-width: 900px;
      /* Memastikan footer berada di bawah */
      padding-bottom: 20px; 
    }

    footer a {
      color: #007aff;
      text-decoration: none;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <header id="main-header">
    <div class="logo-text">‚ö° NetHub Digital</div>
  </header>

  <div class="main-content">
    <section class="category-container">
      <div class="category" id="cat-indosat" onclick="toggleProducts('indosat')">
        <img src="https://iili.io/KyFri8u.png" alt="Indosat" />
        <h3>Kuota Indosat</h3>
      </div>

      <div class="category" id="cat-telkomsel" onclick="toggleProducts('telkomsel')">
        <img src="https://iili.io/KyF4MAb.png" alt="Telkomsel" />
        <h3>Kuota Telkomsel</h3>
      </div>

      <div class="category" id="cat-xl" onclick="toggleProducts('xl')">
        <img src="https://iili.io/KyF66mb.png" alt="XL Akrab" />
        <h3>Kuota XL Akrab</h3>
      </div>
    </section>

    <section id="productSection" class="product-list"></section>
  </div>

  <div id="paymentModal" class="modal">
    <div class="modal-content" id="modalContent">
      </div>
  </div>

  <footer>
    Butuh bantuan? Hubungi <a href="https://wa.me/6285751817154" target="_blank">Admin</a><br>
    ¬© 2024 NetHub Digital. Semua Hak Dilindungi.
  </footer>

  <script>
    // SANDI ADMIN dihapus
    // STATUS READY
    const R = "<span class='ready-status'>‚úÖ Ready Stock</span> | ";
    
    // VARIABEL PRODUK GLOBAL
    let products = {
      indosat: [
        { name: 'Indosat 50GB', price: 55000, desc: R + '- Kuota Indosat Aktif 28 Hari<br>- Jaringan 4G/5G seluruh Indonesia<br>- Garansi sesuai masa aktif<br>- Proses cepat otomatis' },
        { name: 'Indosat 80GB', price: 95000, desc: R + '- Kuota Indosat Aktif 30 Hari<br>- Jaringan 4G/5G seluruh Indonesia<br>- Garansi sesuai masa aktif<br>- Proses cepat otomatis' }
      ],
      telkomsel: [
        { name: 'Telkomsel 30GB', price: 65000, desc: R + '- Kuota Nasional aktif 30 hari<br>- Berlaku semua jaringan<br>- Garansi masa aktif penuh<br>- Aktivasi instan' },
        { name: 'Telkomsel 80GB', price: 120000, desc: R + '- Kuota Nasional aktif 30 hari<br>- Bonus tambahan 5GB YouTube<br>- Garansi masa aktif penuh<br>- Aktivasi instan' }
      ],
      xl: [
        { name: ' SUPERMINI', price: 39000, desc: '‚ùå Habis | Masa aktif: 27/28 hari<br>- AREA 1: 13‚Äì15 GB<br>- AREA 2: 15‚Äì17 GB<br>- AREA 3: 20‚Äì22 GB<br>- AREA 4: 30‚Äì32 GB' },
        { name: ' MINI', price: 50000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 32‚Äì34 GB<br>- AREA 2: 34‚Äì36 GB<br>- AREA 3: 39‚Äì41 GB<br>- AREA 4: 49‚Äì51 GB' },
        { name: ' BIG', price: 55000, desc: '‚ùå Habis | Masa aktif: 27/28 hari<br>- AREA 1: 38‚Äì40 GB<br>- AREA 2: 40‚Äì42 GB<br>- AREA 3: 45‚Äì47 GB<br>- AREA 4: 55‚Äì57 GB' }, 
        { name: ' JUMBO V2', price: 63000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 50‚Äì53 GB<br>- AREA 2: 52‚Äì55 GB<br>- AREA 3: 57‚Äì60 GB<br>- AREA 4: 67‚Äì70 GB' },
        { name: ' BIG SUPER', price: 71000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 63‚Äì65 GB<br>- AREA 2: 65‚Äì67 GB<br>- AREA 3: 70‚Äì72 GB<br>- AREA 4: 80‚Äì82 GB' },
        { name: ' JUMBO', price: 85000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 65 GB<br>- AREA 2: 70 GB<br>- AREA 3: 83 GB<br>- AREA 4: 123 GB' },
        { name: ' JUMBO V3', price: 87000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 87‚Äì90 GB<br>- AREA 2: 89‚Äì92 GB<br>- AREA 3: 94‚Äì97 GB<br>- AREA 4: 104‚Äì107 GB' }
      ]
    };

    let activeCategory = null;

    // =======================================================
    // FUNGSI UTAMA USER INTERFACE
    // =======================================================

    function toggleProducts(category) {
      const section = document.getElementById('productSection');
      const allCategories = document.querySelectorAll('.category');
      const currentCategoryElement = document.getElementById(`cat-${category}`);

      if (activeCategory === category) {
        section.style.display = 'none';
        currentCategoryElement.classList.remove('active');
        activeCategory = null;
        return; 
      }

      activeCategory = category;

      allCategories.forEach(cat => cat.classList.remove('active'));
      currentCategoryElement.classList.add('active');

      section.innerHTML = '';
      
      // Tambahkan Tombol Cek Area XL (Hanya untuk XL)
      if (category === 'xl') {
          const checkAreaLink = document.createElement('a');
          checkAreaLink.href = "https://raw.githack.com/vieralola/Cekareaviera.html/main/Cekareaviera.html";
          checkAreaLink.target = "_blank";
          checkAreaLink.className = "product-utility-link";
          checkAreaLink.textContent = "üó∫Ô∏è Klik Di Sini Untuk Cek Area XL Akrab";
          section.appendChild(checkAreaLink);
      }

      products[category].forEach(p => {
        const div = document.createElement('div');
        div.className = 'product-card';
        // Fungsi openModal sekarang menerima harga
        div.innerHTML = `<h4><span>${p.name}</span></h4><p>${p.desc}</p><p><strong>Harga: Rp ${p.price.toLocaleString()}</strong></p><button class='buy-btn' onclick='openModal(${p.price})'>Beli Sekarang</button>`;
        section.appendChild(div);
      });
      
      section.style.display = 'block';
      section.scrollIntoView({ behavior: 'smooth' });
    }
    
    // =======================================================
    // FUNGSI MODAL PEMBAYARAN
    // =======================================================
    let selectedPrice = 0;
    let countdownInterval = null; // Variabel untuk menyimpan ID interval timer

    function openModal(price) {
      selectedPrice = price;
      // Langkah 1: Tampilkan input Nomor HP
      document.getElementById('modalContent').innerHTML = `
        <h3>Masukkan Nomor HP</h3>
        <input type='number' id='phoneNumber' placeholder='08xxxxxxxxxx' />
        <button class='buy-btn' onclick='showQR()'>Bayar Sekarang</button>
        <button class='close-btn' onclick='closeModal()'>Batal</button>
      `;
      document.getElementById('paymentModal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('paymentModal').style.display = 'none';
      // Hentikan timer jika sedang berjalan
      if (countdownInterval) {
        clearInterval(countdownInterval);
        countdownInterval = null;
      }
    }

    function showQR() {
      // Perhatian: String QRIS ini bersifat statis dan hanya untuk demo tampilan.
      const qrString = '00020101021126670016COM.NOBUBANK.WWW01189360050300000907180214531277541631500303UMI51440014ID.CO.QRIS.WWW0215ID20254466748920303UMI5204481253033605802ID5914Pulsa CELLULAR6009INDONESIA61059024262070703A0163045CAF';
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(qrString)}&size=220x220`;
      const modal = document.getElementById('modalContent');
      const phone = document.getElementById('phoneNumber').value;

      if (!phone || phone.length < 8) {
        alert('Masukkan nomor HP yang valid terlebih dahulu!');
        return;
      }
      
      // Langkah 2: Tampilkan QRIS dan rincian transaksi (Tampilan Profesional Baru)
      modal.innerHTML = `
        <h3>Pembayaran QRIS</h3>
        
        <div class="transaction-details">
            <p><span>Nominal Transfer:</span> <strong>Rp ${selectedPrice.toLocaleString()}</strong></p>
            <p><span>Nomor Tujuan:</span> <strong>${phone}</strong></p>
        </div>

        <div class="qr-container">
            <p id="payment-timer">Batas Waktu: <strong>10:00</strong></p>
            <a href="${qrUrl}" download="NetHub_Payment_QRIS.png">
                <img class='qr-image' src='${qrUrl}' alt='QRIS Payment' />
            </a>
            <a href="${qrUrl}" class="download-qr-link" download="NetHub_Payment_QRIS.png">
                Unduh Kode QR
            </a>
        </div>
        
        <div class="payment-instructions">
            <p>Silakan pindai (scan) Kode QR di atas menggunakan aplikasi perbankan atau e-wallet Anda.</p>
            <p>Pastikan nominal transfer sudah sesuai.</p>
            <p style="margin-top: 8px;"><strong>Setelah transfer, pesanan akan otomatis diproses.</strong></p>
        </div>

        <button class='close-btn' onclick='closeModal()'>Tutup</button>
      `;
      
      // Mulai timer 10 menit (600 detik)
      const timerDisplay = document.getElementById('payment-timer');
      startCountdown(60 * 10, timerDisplay);
    }
    
    // FUNGSI BARU UNTUK TIMER HITUNG MUNDUR
    function startCountdown(duration, displayElement) {
      let timer = duration, minutes, seconds;
      
      // Hapus interval lama jika ada (untuk mencegah double timer)
      if (countdownInterval) {
        clearInterval(countdownInterval);
      }

      countdownInterval = setInterval(function () {
        minutes = parseInt(timer / 60, 10);
        seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        displayElement.innerHTML = `Batas Waktu: <strong>${minutes}:${seconds}</strong>`;

        if (--timer < 0) {
          clearInterval(countdownInterval);
          countdownInterval = null;
          displayElement.innerHTML = "<strong style='color: red;'>Waktu Habis!</strong>";
          
          // Otomatis tutup modal setelah 2 detik
          setTimeout(closeModal, 2000);
        }
      }, 1000);
    }

    // FUNGSI ADMIN PANEL DIHAPUS
    
  </script>
</body>
</html>
