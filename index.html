<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NetHub Digital | Toko Kuota Internet</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@500;600&family=Roboto:wght@400;500&display=swap');

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(180deg, #f9fafc 0%, #eef1f6 100%);
      color: #333;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 20px;
      transition: background 0.3s ease;
    }

    header {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 30px;
      background: linear-gradient(90deg, #ffffff, #f8f9fb);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      border-radius: 15px;
      padding: 15px 20px;
      transition: 0.3s;
      max-width: 600px;
      cursor: pointer;
    }

    .logo-text {
      font-family: 'Poppins', sans-serif;
      font-size: 1.8rem;
      font-weight: 600;
      color: #007aff;
      letter-spacing: 0.5px;
    }

    .main-content {
        display: flex;
        flex-direction: column; 
        width: 100%;
        max-width: 600px; 
        gap: 20px;
        align-items: center;
    }

    .category-container {
      display: flex;
      flex-direction: row;
      gap: 15px;
      width: 100%;
      flex-shrink: 0;
      justify-content: center;
    }

    .category {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      border-radius: 12px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
      padding: 15px 10px;
      cursor: pointer;
      transition: transform 0.25s, box-shadow 0.25s, background 0.25s;
      background: #ffffff;
      color: #333;
      border: 1px solid #eee;
      width: 120px;
    }
    
    .category.active {
        background-color: #e6f0ff;
        border-color: #007aff;
    }

    .category img {
      width: 50px;
      height: 50px;
      object-fit: contain;
      margin-bottom: 5px;
      margin-right: 0;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.1));
    }

    .category h3 {
      font-family: 'Poppins', sans-serif;
      font-size: 0.9rem;
      margin-top: 0;
      font-weight: 500;
      line-height: 1.2;
    }
    
    .product-utility-link {
        display: block;
        text-align: center;
        margin-bottom: 20px;
        padding: 10px 15px;
        background: #f0f7ff;
        border: 1px solid #d0e4ff;
        border-radius: 10px;
        color: #007aff;
        font-weight: 600;
        text-decoration: none;
        transition: background 0.2s;
        box-shadow: 0 1px 3px rgba(0, 122, 255, 0.1);
    }

    .product-list {
      display: none;
      width: 100%; 
      max-width: 600px; 
      text-align: left;
      margin-top: 20px;
    }

    .product-card {
      background: #ffffff;
      border-radius: 15px;
      margin-bottom: 20px;
      padding: 25px;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.1);
      border-left: 5px solid #007aff;
      transition: 0.3s;
    }

    .product-card h4 {
      font-family: 'Poppins', sans-serif;
      font-size: 1.2rem;
      color: #333;
      margin-bottom: 5px;
    }
    
    .product-card h4 span {
        color: #007aff;
        font-weight: 600;
    }
    
    .ready-status {
        color: #28a745; 
        font-weight: 600;
        margin-right: 8px;
        font-size: 0.95rem;
    }

    .product-card p {
      font-size: 0.95rem;
      margin-bottom: 15px;
      color: #666;
      line-height: 1.5;
    }
    
    .product-card strong {
        color: #e91e63;
        font-size: 1.1rem;
    }

    .buy-btn {
      background: #007aff;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 500;
      transition: 0.2s;
      box-shadow: 0 2px 4px rgba(0, 122, 255, 0.4);
    }

    /* === ADMIN PANEL STYLES === */
    #admin-panel {
        display: none; 
        width: 100%;
        max-width: 600px;
        margin-top: 40px;
        padding: 20px;
        background: #fff8e1;
        border: 2px solid #ffcc80;
        border-radius: 15px;
        box-shadow: 0 4px 15px rgba(255, 160, 0, 0.2);
    }
    #admin-panel h2 {
        color: #ff9800;
        border-bottom: 2px solid #ffe0b2;
        padding-bottom: 10px;
        margin-bottom: 15px;
        font-family: 'Poppins', sans-serif;
        font-size: 1.5rem;
    }
    #admin-panel label {
        display: block;
        margin-top: 10px;
        font-weight: bold;
        color: #555;
    }
    #admin-panel input[type="text"], 
    #admin-panel input[type="number"], 
    #admin-panel textarea,
    #admin-panel select {
        width: 100%;
        padding: 8px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 5px;
    }
    #admin-panel textarea {
        height: 80px;
    }
    #admin-panel button.action-btn {
        padding: 10px 15px;
        margin-right: 10px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
    }
    .add-btn { background: #4CAF50; color: white; }
    .delete-btn { background: #f44336; color: white; }
    .update-btn { background: #2196F3; color: white; }
    .section-separator {
        border-top: 1px dashed #ffcc80;
        margin: 20px 0;
        padding-top: 10px;
    }
    .admin-product-item {
        border: 1px solid #ffe0b2;
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 8px;
        background: #ffffff;
    }
    /* === END ADMIN PANEL STYLES === */

    /* === MODAL STYLES === */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }

    .modal-content {
      background: white;
      border-radius: 15px;
      padding: 25px;
      width: 90%;
      max-width: 400px;
      text-align: center;
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
    }

    .modal-content h3 {
      font-family: 'Poppins', sans-serif;
      margin-bottom: 15px;
    }

    .modal-content input[type="number"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 8px;
      font-size: 1rem;
    }

    .qr-image {
      margin-top: 15px;
      border-radius: 10px;
      width: 220px;
      height: 220px;
    }

    .close-btn {
      margin-top: 10px;
      background: none;
      border: none;
      color: #007aff;
      font-weight: bold;
      cursor: pointer;
    }
    /* === END MODAL STYLES === */


    footer {
      margin-top: 50px;
      text-align: center;
      color: #666;
      font-size: 0.9rem;
      width: 100%;
      max-width: 900px;
    }

    footer a {
      color: #007aff;
      text-decoration: none;
      font-weight: 500;
    }
  </style>
</head>
<body>
  <header id="main-header">
    <div class="logo-text">‚ö° NetHub Digital</div>
  </header>

  <div class="main-content">
    <section class="category-container">
      <div class="category" id="cat-indosat" onclick="toggleProducts('indosat')">
        <img src="https://iili.io/KyFri8u.png" alt="Indosat" />
        <h3>Kuota Indosat</h3>
      </div>

      <div class="category" id="cat-telkomsel" onclick="toggleProducts('telkomsel')">
        <img src="https://iili.io/KyF4MAb.png" alt="Telkomsel" />
        <h3>Kuota Telkomsel</h3>
      </div>

      <div class="category" id="cat-xl" onclick="toggleProducts('xl')">
        <img src="https://iili.io/KyF66mb.png" alt="XL Akrab" />
        <h3>Kuota XL Akrab</h3>
      </div>
    </section>

    <section id="productSection" class="product-list"></section>
  </div>

  <div id="admin-panel">
    <h2>üîë Panel Admin (Live Edit)</h2>
    <p style="color:red; font-weight: bold;">‚ö†Ô∏è Perubahan akan hilang jika halaman di-refresh!</p>

    <label for="admin-category-select">Pilih Kategori:</label>
    <select id="admin-category-select" onchange="renderAdminProducts()">
      <option value="indosat">Indosat</option>
      <option value="telkomsel">Telkomsel</option>
      <option value="xl">XL Akrab</option>
    </select>

    <div class="section-separator"></div>
    <h3>Edit/Hapus Produk</h3>
    <div id="admin-products-list">
      </div>

    <div class="section-separator"></div>
    <h3>Tambah Produk Baru</h3>
    <div id="add-product-form">
      <label for="new-product-name">Nama Produk:</label>
      <input type="text" id="new-product-name" placeholder="Contoh: Indosat 100GB" />

      <label for="new-product-price">Harga (Contoh: 120000):</label>
      <input type="number" id="new-product-price" />

      <label for="new-product-desc">Deskripsi (Gunakan &lt;br&gt; untuk baris baru):</label>
      <textarea id="new-product-desc"></textarea>

      <button class="action-btn add-btn" onclick="addNewProduct()">+ Tambah Produk</button>
    </div>
    
    <div class="section-separator"></div>
    <button class="action-btn update-btn" onclick="hideAdminPanel()">Sembunyikan Panel</button>
  </div>
  <div id="paymentModal" class="modal">
    <div class="modal-content" id="modalContent">
      </div>
  </div>
<br><br><br><br><br><br><br><br><br>
  <footer>
    Butuh bantuan? Hubungi <a href="https://wa.me/6285751817154" target="_blank">Admin</a><br>
    ¬© 2024 NetHub Digital. Semua Hak Dilindungi.
  </footer>

  <script>
    // SANDI ADMIN
    const ADMIN_PASSWORD = "012529";
    // STATUS READY
    const R = "<span class='ready-status'>‚úÖ Ready Stock</span> | ";
    
    // VARIABEL PRODUK GLOBAL
    let products = {
      indosat: [
        { name: 'Indosat 50GB', price: 55000, desc: R + '- Kuota Indosat Aktif 28 Hari<br>- Jaringan 4G/5G seluruh Indonesia<br>- Garansi sesuai masa aktif<br>- Proses cepat otomatis' },
        { name: 'Indosat 80GB', price: 95000, desc: R + '- Kuota Indosat Aktif 30 Hari<br>- Jaringan 4G/5G seluruh Indonesia<br>- Garansi sesuai masa aktif<br>- Proses cepat otomatis' }
      ],
      telkomsel: [
        { name: 'Telkomsel 30GB', price: 65000, desc: R + '- Kuota Nasional aktif 30 hari<br>- Berlaku semua jaringan<br>- Garansi masa aktif penuh<br>- Aktivasi instan' },
        { name: 'Telkomsel 80GB', price: 120000, desc: R + '- Kuota Nasional aktif 30 hari<br>- Bonus tambahan 5GB YouTube<br>- Garansi masa aktif penuh<br>- Aktivasi instan' }
      ],
      xl: [
        { name: 'XL SUPERMINI', price: 39000, desc: '‚ùå Habis | Masa aktif: 27/28 hari<br>- AREA 1: 13‚Äì15 GB<br>- AREA 2: 15‚Äì17 GB<br>- AREA 3: 20‚Äì22 GB<br>- AREA 4: 30‚Äì32 GB' },
        { name: 'XL MINI', price: 50000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 32‚Äì34 GB<br>- AREA 2: 34‚Äì36 GB<br>- AREA 3: 39‚Äì41 GB<br>- AREA 4: 49‚Äì51 GB' },
        { name: 'XL BIG', price: 55000, desc: '‚ùå Habis | Masa aktif: 27/28 hari<br>- AREA 1: 38‚Äì40 GB<br>- AREA 2: 40‚Äì42 GB<br>- AREA 3: 45‚Äì47 GB<br>- AREA 4: 55‚Äì57 GB' }, 
        { name: 'XL JUMBO V2', price: 63000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 50‚Äì53 GB<br>- AREA 2: 52‚Äì55 GB<br>- AREA 3: 57‚Äì60 GB<br>- AREA 4: 67‚Äì70 GB' },
        { name: 'XL BIG SUPER', price: 71000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 63‚Äì65 GB<br>- AREA 2: 65‚Äì67 GB<br>- AREA 3: 70‚Äì72 GB<br>- AREA 4: 80‚Äì82 GB' },
        { name: 'XL JUMBO', price: 85000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 65 GB<br>- AREA 2: 70 GB<br>- AREA 3: 83 GB<br>- AREA 4: 123 GB' },
        { name: 'XL JUMBO V3', price: 87000, desc: R + 'Masa aktif: 27/28 hari<br>- AREA 1: 87‚Äì90 GB<br>- AREA 2: 89‚Äì92 GB<br>- AREA 3: 94‚Äì97 GB<br>- AREA 4: 104‚Äì107 GB' }
      ]
    };

    let activeCategory = null;

    // =======================================================
    // FUNGSI UTAMA USER INTERFACE
    // =======================================================

    function toggleProducts(category) {
      const section = document.getElementById('productSection');
      const allCategories = document.querySelectorAll('.category');
      const currentCategoryElement = document.getElementById(`cat-${category}`);

      if (activeCategory === category) {
        section.style.display = 'none';
        currentCategoryElement.classList.remove('active');
        activeCategory = null;
        return; 
      }

      activeCategory = category;

      allCategories.forEach(cat => cat.classList.remove('active'));
      currentCategoryElement.classList.add('active');

      section.innerHTML = '';
      
      // Tambahkan Tombol Cek Area XL (Hanya untuk XL)
      if (category === 'xl') {
          const checkAreaLink = document.createElement('a');
          checkAreaLink.href = "https://raw.githack.com/vieralola/Cekareaviera.html/main/Cekareaviera.html";
          checkAreaLink.target = "_blank";
          checkAreaLink.className = "product-utility-link";
          checkAreaLink.textContent = "üó∫Ô∏è Klik Di Sini Untuk Cek Area XL Akrab";
          section.appendChild(checkAreaLink);
      }

      products[category].forEach(p => {
        const div = document.createElement('div');
        div.className = 'product-card';
        // Fungsi openModal sekarang menerima harga
        div.innerHTML = `<h4><span>${p.name}</span></h4><p>${p.desc}</p><p><strong>Harga: Rp ${p.price.toLocaleString()}</strong></p><button class='buy-btn' onclick='openModal(${p.price})'>Beli Sekarang</button>`;
        section.appendChild(div);
      });
      
      section.style.display = 'block';
      section.scrollIntoView({ behavior: 'smooth' });
    }
    
    // =======================================================
    // FUNGSI MODAL PEMBAYARAN
    // =======================================================
    let selectedPrice = 0;

    function openModal(price) {
      selectedPrice = price;
      // Langkah 1: Tampilkan input Nomor HP
      document.getElementById('modalContent').innerHTML = `
        <h3>Masukkan Nomor HP</h3>
        <input type='number' id='phoneNumber' placeholder='08xxxxxxxxxx' />
        <button class='buy-btn' onclick='showQR()'>Bayar Sekarang</button>
        <button class='close-btn' onclick='closeModal()'>Batal</button>
      `;
      document.getElementById('paymentModal').style.display = 'flex';
    }

    function closeModal() {
      document.getElementById('paymentModal').style.display = 'none';
    }

    function showQR() {
      const qrString = '00020101021126670016COM.NOBUBANK.WWW01189360050300000907180214531277541631500303UMI51440014ID.CO.QRIS.WWW0215ID20254466748920303UMI5204481253033605802ID5914Pulsa CELLULAR6009INDONESIA61059024262070703A0163045CAF';
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?data=${encodeURIComponent(qrString)}&size=220x220`;
      const modal = document.getElementById('modalContent');
      const phone = document.getElementById('phoneNumber').value;

      if (!phone || phone.length < 8) {
        alert('Masukkan nomor HP yang valid terlebih dahulu!');
        return;
      }
      
      // Langkah 2: Tampilkan QRIS dan rincian transaksi
      modal.innerHTML = `
        <h3>Pembayaran</h3>
        <p>Nominal: <strong>Rp ${selectedPrice.toLocaleString()}</strong></p>
        <p>Tujuan: <strong>${phone}</strong></p>
        <p>Silakan transfer menggunakan QRIS di bawah ini:</p>
        <img class='qr-image' src='${qrUrl}' alt='QRIS' />
        <p style='margin-top:10px;font-size:0.9rem;color:#555'>Setelah transfer, pesanan akan otomatis diproses.</p>
        <button class='close-btn' onclick='closeModal()'>Tutup</button>
      `;
    }


    // =======================================================
    // FUNGSI ADMIN PANEL
    // =======================================================
    
    // Trigger Admin Panel (Double-click header)
    document.getElementById('main-header').addEventListener('dblclick', promptAdminPassword);

    function promptAdminPassword() {
        const panel = document.getElementById('admin-panel');
        // Jika sudah terbuka, kita tutup tanpa prompt
        if (panel.style.display === 'block') {
            hideAdminPanel();
            return;
        }

        const password = prompt("Masukkan Sandi Admin:");

        if (password === ADMIN_PASSWORD) {
            showAdminPanel();
        } else if (password !== null) {
            alert("Sandi salah. Akses ditolak.");
        }
    }

    function showAdminPanel() {
        document.getElementById('admin-panel').style.display = 'block';
        renderAdminProducts();
    }

    function hideAdminPanel() {
        document.getElementById('admin-panel').style.display = 'none';
    }

    // Render daftar produk di panel admin
    function renderAdminProducts() {
        const category = document.getElementById('admin-category-select').value;
        const list = document.getElementById('admin-products-list');
        list.innerHTML = '';

        products[category].forEach((p, index) => {
            const item = document.createElement('div');
            item.className = 'admin-product-item';
            item.innerHTML = `
                <label>Nama Produk:</label>
                <input type="text" id="name-${category}-${index}" value="${p.name}" />

                <label>Harga:</label>
                <input type="number" id="price-${category}-${index}" value="${p.price}" />

                <label>Deskripsi (Termasuk Status Ready/Habis):</label>
                <textarea id="desc-${category}-${index}">${p.desc.replace(/<br>/g, '\n')}</textarea>

                <button class="action-btn delete-btn" onclick="deleteProduct('${category}', ${index})">Hapus</button>
                <button class="action-btn update-btn" onclick="updateProduct('${category}', ${index})">Simpan Perubahan</button>
            `;
            list.appendChild(item);
        });
    }

    // Update produk yang sudah ada
    function updateProduct(category, index) {
        const newName = document.getElementById(`name-${category}-${index}`).value;
        const newPrice = parseInt(document.getElementById(`price-${category}-${index}`).value);
        // Mengganti newline (\n) dari textarea kembali ke tag <br> untuk HTML
        const newDesc = document.getElementById(`desc-${category}-${index}`).value.replace(/\n/g, '<br>');

        if (newName && !isNaN(newPrice) && newDesc) {
            products[category][index].name = newName;
            products[category][index].price = newPrice;
            products[category][index].desc = newDesc;
            
            renderAdminProducts();
            if (activeCategory === category) {
                // Refresh tampilan user
                toggleProducts(category);
                toggleProducts(category); 
            }
            alert('Produk berhasil diupdate (sementara)!');
        } else {
            alert('Semua kolom harus diisi dengan benar.');
        }
    }

    // Hapus produk
    function deleteProduct(category, index) {
        if (confirm(`Yakin ingin menghapus ${products[category][index].name}?`)) {
            products[category].splice(index, 1);
            
            renderAdminProducts();
            if (activeCategory === category) {
                toggleProducts(category);
                toggleProducts(category); 
            }
            alert('Produk berhasil dihapus (sementara)!');
        }
    }

    // Tambah produk baru
    function addNewProduct() {
        const category = document.getElementById('admin-category-select').value;
        const newName = document.getElementById('new-product-name').value;
        const newPrice = parseInt(document.getElementById('new-product-price').value);
        // Mengganti newline (\n) dari textarea kembali ke tag <br> untuk HTML
        const newDesc = document.getElementById('new-product-desc').value.replace(/\n/g, '<br>');

        if (newName && !isNaN(newPrice) && newDesc) {
            products[category].push({
                name: newName,
                price: newPrice,
                desc: newDesc
            });

            // Reset form
            document.getElementById('new-product-name').value = '';
            document.getElementById('new-product-price').value = '';
            document.getElementById('new-product-desc').value = '';

            renderAdminProducts();
            if (activeCategory === category) {
                toggleProducts(category);
                toggleProducts(category);
            }
            alert('Produk baru berhasil ditambahkan (sementara)!');
        } else {
            alert('Nama, Harga, dan Deskripsi harus diisi.');
        }
    }
  </script>
</body>
</html>
